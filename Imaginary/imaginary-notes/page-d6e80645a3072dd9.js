(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5485:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),r=a(2115),n=a(5695);let l=(0,a(5647).UU)("https://dpyxnwiuwzahkxuxrojp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRweXhud2l1d3phaGt4dXhyb2pwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjA1MDcsImV4cCI6MjA2NzMzNjUwN30.C3-ninSkfw0RF3ZHJd25MpncuBdEVUmWpMLZgPZ-rqI");function u(){let e=(0,n.useRouter)(),[s,a]=(0,r.useState)(""),[u,i]=(0,r.useState)(""),[o,c]=(0,r.useState)("");async function d(a){a.preventDefault(),c("");let{data:t,error:r}=await l.from("users").select("*").eq("username",s).eq("password",u).single();r||!t?c("Invalid username or password"):(localStorage.setItem("username",s),e.push("/notes"))}async function p(a){a.preventDefault(),c("");let{data:t}=await l.from("users").select("id").eq("username",s).maybeSingle();if(t)return void c("Username already exists");let{error:r}=await l.from("users").insert([{username:s,password:u}]);r?c("Signup failed: "+r.message):(localStorage.setItem("username",s),e.push("/notes"))}return(0,t.jsx)("main",{className:"min-h-screen flex items-center justify-center p-6",children:(0,t.jsxs)("form",{className:"max-w-sm w-full space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Login / Signup"}),(0,t.jsx)("input",{type:"text",placeholder:"Username",className:"w-full border p-2 rounded",value:s,onChange:e=>a(e.target.value)}),(0,t.jsx)("input",{type:"password",placeholder:"Password",className:"w-full border p-2 rounded",value:u,onChange:e=>i(e.target.value)}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",onClick:d,children:"Log In"}),(0,t.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full",onClick:p,children:"Sign Up"})]}),o&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:o})]})})}},8139:(e,s,a)=>{Promise.resolve().then(a.bind(a,5485))}},e=>{var s=s=>e(e.s=s);e.O(0,[825,441,684,358],()=>s(8139)),_N_E=e.O()}]);